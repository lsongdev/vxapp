# 修

Bug 是无可避免的，因此修复漏洞也是日常维护会遇到的事情。以下提出几点强烈的建议，虽然并不是强制执行，但是如果你希望代码质量有所保证，不给以后的自己或者其他维护人员带来未知的麻烦，那么请仔细阅读。

## 1. 先冷静下来

不管是 PM 在催你还是业务赶着上线，一般来说头脑发热随便改代码都不会有什么好下场。

## 2. 分析问题，锁定最小修改范围

在库已经进入上线使用阶段后，不宜对已有代码进行大规模的修改。尤其是会影响到现有开发人员使用习惯的改动，应先考虑修改付出的代价。修复漏洞不是代码重构，应先考虑保证向后兼容。

## 3. 和其他维护人员交流

或许你想到一个惊为天人的解决方案，但是项目是多人努力的结晶。你的方法也许会影响到别人的代码或者开发进度，因此应该时刻和其他维护人员或者项目负责人保持联系，将解决方案描述和解释给他们听，征求他们的意见。

## 4. 不要忘记进行回归测试

一旦对代码进行了任何修改，都需要运行所有的单元测试进行一次回归测，操作非常简单，运行 `npm run test` 就可以了。

> 本项目使用 Castle 进行 CI 以及自动化测试，但是你也有义务进行本地测试。

## 5. 使用 PR 进行代码提交

严禁直接在项目的 master 分支上进行任何开发活动。你应该对本项目进行 fork 操作，再在自己的开发机器上进行拉取 fork 后的项目代码，然后在本地进行分支开发。

在开发过程中，如果有 commit，则推荐使用 [Angular 风格的 commit message][Commit Message Guidelines]。

开发完成后，应该先将代码提交至自己的仓库，再在本项目下创建 PR（Pull Requests），指定 reviewer（一般为项目负责人），详细填写代码改动的目的，最后等待负责人进行合并。

[Commit Message Guidelines]:https://github.com/angular/angular/blob/master/CONTRIBUTING.md#commit